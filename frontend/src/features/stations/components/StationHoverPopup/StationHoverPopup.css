/* Station Hover Popup Styles */

/* Remove default Mapbox popup styles we don't want */
.station-hover-popup-container .mapboxgl-popup-content {
  padding: 0;
  background: transparent;
  box-shadow: none;
}

.station-hover-popup-container .mapboxgl-popup-tip {
  display: none;
}

/* Our custom popup container */
.station-hover-popup {
  padding: 16px;
  min-width: 220px;
  max-width: 320px;
  background: #ffffff;
  border-radius: 12px;
  box-shadow:
    0px 4px 6px -1px rgba(0, 0, 0, 0.1),
    0px 2px 4px -1px rgba(0, 0, 0, 0.06),
    0px 10px 15px -3px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(0, 0, 0, 0.05);

  /* Smooth transitions */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Initial animation - only for users who don't prefer reduced motion */
@media (prefers-reduced-motion: no-preference) {
  .station-hover-popup {
    animation: popIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
}

@keyframes popIn {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Header section */
.station-hover-popup__header {
  margin-bottom: 4px;
}

/* Station name */
.station-hover-popup__name {
  font-size: 1rem;
  font-weight: 700;
  color: #1a1a1a;
  line-height: 1.4;
  margin: 0;
  transition: opacity 0.15s ease-in-out;
}

/* Story badge */
.station-hover-popup__story {
  display: inline-block;
  font-size: 0.75rem;
  font-weight: 600;
  color: #0ea5e9; /* Sky 500 */
  background: #e0f2fe; /* Sky 100 */
  padding: 2px 8px;
  border-radius: 12px;
  margin-top: 6px;
}

/* Station ID */
.station-hover-popup__id {
  font-size: 0.75rem;
  color: #4b5563; /* Gray 600 - improved from Gray 500 for better contrast */
  margin-top: 4px;
}

/* Voronoi-specific styles */
.station-hover-popup--voronoi {
  min-width: 200px;
}

/* Context text */
.station-hover-popup__context {
  font-size: 0.75rem;
  color: #4b5563; /* Gray 600 - improved from Gray 500 for better contrast */
  margin-top: 4px;
  font-style: italic;
  transition: opacity 0.15s ease-in-out;
}

/* Metric value display */
.station-hover-popup__metric {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #e5e7eb;
  transition: opacity 0.15s ease-in-out;
}

/* Metric line (can be 2-3 lines) */
.station-hover-popup__metric-line {
  font-size: 0.875rem;
  color: #4b5563;
  line-height: 1.5;
  margin: 2px 0;
}

/* Bold metric line (the main value) */
.station-hover-popup__metric-line--bold {
  font-size: 1.125rem;
  font-weight: 700;
  color: #1a1a1a;
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .station-hover-popup {
    background: #1f2937; /* Gray 800 */
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.5),
      0 2px 4px -1px rgba(0, 0, 0, 0.3);
  }

  .station-hover-popup__name {
    color: #f3f4f6; /* Gray 100 */
  }

  .station-hover-popup__story {
    color: #7dd3fc; /* Sky 300 */
    background: rgba(14, 165, 233, 0.2);
  }

  .station-hover-popup__id,
  .station-hover-popup__context {
    color: #d1d5db; /* Gray 300 - improved contrast */
  }

  .station-hover-popup__metric {
    border-top-color: rgba(255, 255, 255, 0.1);
  }

  .station-hover-popup__metric-line {
    color: #d1d5db; /* Gray 300 */
  }

  .station-hover-popup__metric-line--bold {
    color: #f3f4f6; /* Gray 100 */
  }
}
